@startuml
state "entry" as entry
state "WaitCard" as WaitCard <<rectangle>>
state "WaitPassword" as WaitPassword <<rectangle>>
state "WaitTakeCard" as WaitTakeCard <<rectangle>>
state "WaitAmount" as WaitAmount <<rectangle>>
state "insertCard" as insertCard <<diamond>>
state "cancel" as cancel <<diamond>>
state "enterPassword" as enterPassword <<diamond>>
state "enterPassword" as enterPassword <<diamond>>
state "enterPassword" as enterPassword <<diamond>>
state "takeCard" as takeCard <<diamond>>
WaitCard --> insertCard : insertCard / 
insertCard --> WaitPassword : exit1 / void
WaitPassword --> cancel : cancel / 
cancel --> WaitTakeCard : exit1 / void
WaitPassword --> enterPassword : enterPassword / 
enterPassword --> WaitAmount : exit1 / void
enterPassword --> WaitPassword : exit2 / void
enterPassword --> WaitTakeCard : exit3 / void
WaitTakeCard --> takeCard : takeCard / 
takeCard --> WaitCard : exit1 / void
@enduml
